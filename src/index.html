---
layout: base
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults
---
{% comment %}
  Filter and sort out the available posts
{% endcomment %}

{% assign posts = site.posts | sort: 'priority' | reverse %}

{% assign eventPosts = posts | where_exp: 'post', 'post.event' | slice: 0, 5 %}
{% assign featurePost = posts | first %}
{% assign remainingPosts = posts | shift %}

<section class="wrapper wrapper-body">
  <section class="top-container">
    <div class="post-featured-container">
      {% include post/featured.html post=featurePost %}
    </div>
    <div class="post-event-container ">
      <ul class="post-event-list post-card">
        {%- for postEvent in eventPosts -%}
          <li class="post-event-item">
            {% include post/event.html post=postEvent %}
            {% include components/divider.html %}
          </li>
        {%- endfor -%}

        <li class="post-event-item">
          <a class="post-event-item-container" href="">
            <h4 class="post-event-header">Want to see your event here? Inform the promotions team!</h4>
          </a>
        </li>
      </ul>
    </div>
  </section>

  {%- if remainingPosts.size > 0 -%}
    <ul class="post-small-item-list-container">
      {%- for post in remainingPosts -%}
        <li class="post-small-item-container post-card">
          {% include post/small.html post=post %}
        </li>
      {%- endfor -%}
    </ul>
  {%- endif -%}
</section>
